(this.webpackJsonpemarting=this.webpackJsonpemarting||[]).push([[0],{126:function(e,t,n){},158:function(e,t,n){},159:function(e,t,n){},161:function(e,t,n){},179:function(e,t,n){},209:function(e,t,n){},210:function(e,t,n){},211:function(e,t,n){},212:function(e,t,n){},213:function(e,t,n){},214:function(e,t,n){},215:function(e,t,n){},216:function(e,t,n){},217:function(e,t,n){},219:function(e,t,n){},220:function(e,t,n){},224:function(e,t,n){},225:function(e,t,n){},226:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(20),r=n.n(c),o=(n(158),n(159),n(5)),s=n.n(o),i=n(12),l=n(11),d=n(8),u=n(268),j=n(280),b=(n(161),n(13)),p=n.n(b),h=(n(179),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAEB0lEQVRo3u2YT2gUVxzHP+/N7Ozkjw3dxNZCkRw8SI9iDaF4K0JzSGkKHjwIDUYaNSZNiFJbEeqhF8HGQDRNVMSCeEhJi4eSU5HipbamgRYPOZSCmn+75s9mdzLZmddDduxkM7PZVHDddr+n4X2/7/t+3/fbx5tZwSY4NrtiWlrkOwUHvDEB567F5BdHEk6Lgxjxjd+/FpNvd8xZlUlpLAB6lspUu3ZNf52Zak24PyvY683RUB8Mx7TR1oT7uYLzPq8x01l9f2B71MpXn8xHHp+1TEuLjPiLB/4yVeZCe9yudhAXc6aMA6RlZI+veAA9Owbwq3+Cg+hrj9uVpspcAP70xhUcsLTIyPFZy/xXAU7MpI20ZtxW0LR+guoZqDVSK0L/DNjp5wTqAYCL2Jfr5415Gh92rgj904Faw9JQn/gJBU1pzbh9YiZtbClAx0zaSOnRWwqa1xfIj7uXpr9tS2R2K+jOnSeyHQAaAmwbcjT+Qk+1JTK73vv93vcCxnK45pQevdUREmJDgJPTKX1Zj95U0JK7iRpuZ1RzcZD9QK6hW+GuTmQX3dABb6zSsScAN4c2HGTfh/v3uxpuJ5DJmduyrEdvnpxO6bm+6wJ0TS3ryYh5Q8HBgN39eiimT/xW+UaLgncD+Mn+OjPZHrd3APUBm1XfHrd3XNpekRLwMCBg05GE0zwU0x8K+CqAP5iMmDe6ppbXhXgWoPvJkr5oVFxVcChg8fmIcs5+HLer3Y0H18M4gC20fSG8nxsP4h1E37G4XWko5zwwFRDi0KJRcbX7ydKzEBKg9/GCnI9WDSo4HGQsUWcHayNzttDPAW+G1PdgbRHREML7uV9CJPWW0E9fqY0sStTpYA8Oz0erBnsfL0gAeebRUxk3t11W0Bpi+keVu3qlLZF5S0FXWHEC5e1qaAc8Tv6jDSrwVFsis+u11eVvBNwL0bTGzW2Xzzx6KuVURU2fgqNhhhqq81KdmckeXD1MZyhnPGu+N0zjcVE3ExoAMB3kxS9ff8WVuB15vI5OVdT0iY8SrspjxvWYFAAvVCfg+quF+eW9iUsBErDz8HbIcz5dKo8uVZBOrbsH8vnZUsDdMNbPbUE3lkc3VqDupwJ1d6VE9QDJAD6Z5YC1d6BCdBpuL5AI0M1luc10KYkqRJeUqB45HNMmNFSjgDuABVgC7mioxuGYNuGpC9UNxfRJHbdBwChr7U8JGNVxG4di+mQenSXgBw31znBMu7+JbsO6ZZTxf4XwHja78V42eDf6f+ImLmmUfIDQ12PvN/ayIOyMlnwHygGKDf35LQrDVu+ZQs9gyXegHKDYKAcoNsoBio1ygGKjHKDYKAcoNsoBio3Q74Hn/Z/oRX1Tl3wHygGKjb8B0+ebMWQ31RIAAAAASUVORK5CYII="),g=n(16),m=n(277),O=n(131),x=n.n(O),f=n(23),v=(n(183),n(184),n(271)),y=n(272),N=n(273),S=n(274),w=n(275),C=n(276),I=n(299),P=n(295),k=n(296),T=n(279),R=n(2),E=Object(u.a)((function(e){return{root:{padding:"0",height:"min-content",alignSelf:"center",backgroundColor:e.palette.background.paper}}})),A=function(e){var t=Object(a.useState)(!1),n=Object(d.a)(t,2),c=n[0],r=n[1],o=Object(a.useState)(!1),l=Object(d.a)(o,2),u=l[0],j=l[1],b=(E(),Object(a.useState)(!1)),O=Object(d.a)(b,2),A=(O[0],O[1],function(){var e=Object(i.a)(s.a.mark((function e(){var t,n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("JWT"),e.next=4,D(t);case 4:return n=e.sent,e.next=7,p()({method:"POST",url:"".concat("http://localhost:8000/","deleteToken/").concat(n),headers:{"content-type":"application/json",accept:"application/json"},data:JSON.stringify({token:t})});case 7:a=e.sent,console.log(a),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}()),D=function(){var e=Object(i.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p()({method:"POST",url:"".concat("http://localhost:8000/","auth"),headers:{"content-type":"application/json",accept:"application/json"},data:JSON.stringify({token:t})});case 3:return n=e.sent,console.log(n.data._id),e.abrupt("return",n.data._id);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){null===localStorage.getItem("JWT")?(j(!1),console.log("No user Logged in!")):function(){var e=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("JWT"),e.next=3,D(t);case 3:void 0!==e.sent&&(L({type:"LOGIN_USER"}),j(!0));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[u]);var B=Object(f.c)((function(e){return e.notifications.notification})),F=Object(f.b)(),q=Object(f.c)((function(e){return e.loggedIn.loggedIn})),U=Object(f.c)((function(e){return e.loggedIn.userName})),L=Object(f.b)();return Object(R.jsx)("div",{children:Object(R.jsxs)(v.a,{fixed:"true",color:"light",light:!0,expand:"md",style:{padding:"10px"},children:[Object(R.jsx)("a",{className:"navbar-brand",href:"/",style:{paddingTop:"0px",margin:"10px 15px 10px 10px"},children:Object(R.jsx)("img",{src:h,alt:"",width:"30",height:"24",style:{color:"#0f1213"}})}),Object(R.jsx)(y.a,{href:"/",style:{fontSize:"1.4rem",alignSelf:"center",margin:"auto"},children:"EMarting"}),Object(R.jsx)(N.a,{onClick:function(){return r(!c)}}),Object(R.jsx)(S.a,{isOpen:c,navbar:!0,children:Object(R.jsxs)(w.a,{className:"mr-auto",navbar:!0,children:[Object(R.jsx)(C.a,{children:Object(R.jsx)(g.c,{exact:!0,activeClassName:"linkIsActive",className:"nav-link","aria-current":"page",to:"/",children:"Home"})}),!0===q?Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(C.a,{children:Object(R.jsx)(g.c,{exact:!0,activeClassName:"linkIsActive",className:"nav-link","aria-current":"page",style:{whiteSpace:"nowrap"},to:"/admin/addProduct",children:"Add Products"})}),Object(R.jsx)(C.a,{children:Object(R.jsx)(g.c,{exact:!0,activeClassName:"linkIsActive",className:"nav-link","aria-current":"page",to:"/admin/shop",style:{whiteSpace:"nowrap"},children:"Admin Products"})})]}):null,Object(R.jsx)(C.a,{children:Object(R.jsx)(g.c,{exact:!0,activeClassName:"linkIsActive",className:"nav-link","aria-current":"page",to:"/shop",children:"Shop"})}),Object(R.jsx)(C.a,{children:Object(R.jsx)(g.c,{exact:!0,activeClassName:"linkIsActive",className:"nav-link","aria-current":"page",to:"/cart",onClick:function(){F({type:"DEC_NOTIFICATION"})},children:Object(R.jsx)(m.a,{badgeContent:B,color:"error",children:Object(R.jsx)(x.a,{style:{fontSize:"1.8rem"}})})})}),!0===q?Object(R.jsxs)(I.a,{nav:!0,inNavbar:!0,style:{width:"fit-content",fontWeight:"400",color:"black",alignSelf:"center"},children:[Object(R.jsx)(P.a,{nav:!0,caret:!0,style:{color:"black",alignSelf:"center",fontSize:"1rem"},children:"Hello ".concat(U)}),Object(R.jsxs)(k.a,{right:!0,style:{position:"absolute"},children:[Object(R.jsx)(T.a,{style:{padding:"0"},children:Object(R.jsx)(g.c,{to:"/orders",style:{textAlign:"center",textDecoration:"none",color:"black",width:"100%",margin:"none",height:"100%",padding:"0"},children:Object(R.jsx)("p",{style:{margin:"0"},children:"Orders"})})}),Object(R.jsx)(T.a,{divider:!0}),Object(R.jsx)(T.a,{style:{fontWeight:"900",color:"red",textAlign:"center"},onClick:function(){A(),localStorage.removeItem("JWT"),localStorage.removeItem("username"),L({type:"LOGOUT_USER"})},children:"LogOut"})]})]}):Object(R.jsx)(C.a,{children:Object(R.jsx)(g.c,{exact:!0,activeClassName:"linkIsActive",className:"nav-link","aria-current":"page",to:"/login",children:"Login"})})]})})]})})},D=n(22),B=(n(209),function(e){var t=e.types,n=e.Statement,c=e.value,r=e.onChange,o=Object(a.useState)(!1),s=Object(d.a)(o,2),i=s[0],u=s[1],j=Object(a.useState)(null),b=Object(d.a)(j,2),p=(b[0],b[1]);return Object(R.jsxs)("div",{className:"dropdown",children:[Object(R.jsxs)("div",{className:"control",onClick:function(){u((function(e){return!e}))},children:[Object(R.jsxs)("div",{className:"selected-value",children:[c||n,":"]}),Object(R.jsx)("div",{className:"arrow ".concat(i?"open":null)})]}),Object(R.jsx)("div",{className:"options ".concat(i?"open":null),children:t.map((function(e){return Object(R.jsx)("div",{className:"option",onClick:function(){r((function(t){return p(e.name),u(!1),Object(l.a)(Object(l.a)({},t),{},{genre:e.name})}))},children:e.name})}))})]})}),F=n(79),q=Object(u.a)({submitButton:{backgroundColor:"#34eef6",color:"white",fontWeight:"600","&:hover":{backgroundColor:"#c1fcff",color:"black"}}}),U=function(e){var t=Object(a.useState)(""),n=Object(d.a)(t,2),c=(n[0],n[1]),r=Object(a.useState)(""),o=Object(d.a)(r,2),u=o[0],b=o[1],h=Object(D.f)(),g=Object(a.useState)({errors:""}),m=Object(d.a)(g,2),O=(m[0],m[1],Object(a.useState)("")),x=Object(d.a)(O,2),f=(x[0],x[1],Object(a.useState)({name:"",image:""})),v=Object(d.a)(f,2),y=(v[0],v[1],Object(a.useState)({title:"",price:"",desc:"",genre:null,author:"",quantity:0,pages:0})),N=Object(d.a)(y,2),S=N[0],w=N[1],C=function(e){if("title"==e.target.name&&w(Object(l.a)(Object(l.a)({},S),{},{title:e.target.value})),"author"==e.target.name&&w(Object(l.a)(Object(l.a)({},S),{},{author:e.target.value})),"desc"==e.target.name&&w(Object(l.a)(Object(l.a)({},S),{},{desc:e.target.value})),"price"==e.target.name&&w(Object(l.a)(Object(l.a)({},S),{},{price:e.target.value})),"pages"==e.target.name&&(e.target.value<0?w(Object(l.a)(Object(l.a)({},S),{},{pages:0})):w(Object(l.a)(Object(l.a)({},S),{},{pages:e.target.value}))),"quantity"==e.target.name&&(e.target.value<0?w(Object(l.a)(Object(l.a)({},S),{},{quantity:0})):w(Object(l.a)(Object(l.a)({},S),{},{quantity:e.target.value}))),"imageFile"==e.target.name){w(Object(l.a)(Object(l.a)({},S),{},{image:e.target.files[0]})),c(e.target.files[0]),console.log("Event.target: ",e.target.files[0]);var t=new FileReader;t.readAsDataURL(e.target.files[0]),t.onloadend=function(){b(t.result)}}console.log(S)},I=q(),P=function(){var e=Object(i.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p()({method:"POST",url:"".concat("http://localhost:8000/","auth"),headers:{"content-type":"application/json",accept:"application/json"},data:JSON.stringify({token:t})});case 3:return n=e.sent,console.log(n.data._id),e.abrupt("return",n.data._id);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(i.a)(s.a.mark((function e(t){var n,a,c,r,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=new FormData,a={title:S.title,price:S.price,desc:S.desc,genre:S.genre,pages:S.pages,quantity:S.quantity,author:S.author},n.append("data",JSON.stringify(a)),n.append("file",S.image),console.log("handle submit data: ",n),e.prev=7,c=localStorage.getItem("JWT"),e.next=11,P(c);case 11:return r=e.sent,e.next=14,p()({method:"post",url:"".concat("http://localhost:8000/","admin/addProduct/").concat(r),data:n,headers:{"content-type":"multipart/form-data"}});case 14:o=e.sent,console.log(o.data),w({title:"",price:"",desc:"",genre:null,author:"",quantity:0,pages:0}),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(7),console.log(e.t0);case 22:h.push("/admin/shop");case 23:case"end":return e.stop()}}),e,null,[[7,19]])})));return function(t){return e.apply(this,arguments)}}();return Object(R.jsxs)("div",{children:[Object(R.jsx)("h1",{children:"Add Product:"}),Object(R.jsxs)("form",{className:"addProductForm",onSubmit:k,encType:"multipart/form-data",children:[Object(R.jsxs)("div",{className:"formControl",children:[Object(R.jsx)("label",{for:"productTitle",className:"addProductTags mr-auto",name:"title",children:"Title:"}),Object(R.jsx)("input",{required:!0,type:"text",id:"productTitle",className:"addProductInput",name:"title",onChange:C})]}),Object(R.jsxs)("div",{className:"formControl",children:[Object(R.jsx)("label",{for:"productImageFile",className:"addProductTags",name:"imageURL",children:"Image:"}),Object(R.jsx)("input",{required:!0,type:"file",id:"productImageFile",className:"addProductInput",name:"imageFile",onChange:C})]}),u&&Object(R.jsxs)("div",{children:[Object(R.jsx)("p",{children:"Preview:"}),Object(R.jsx)("img",{src:u,alt:"preview",style:{height:"300px"}})]}),Object(R.jsxs)("div",{className:"formControl",children:[Object(R.jsx)("label",{for:"genre",className:"addProductTags",name:"genre",children:"Genre:"}),Object(R.jsx)(B,{required:!0,types:F,Statement:"Select the Genre ",value:S.genre,name:"genre",onChange:w})]}),Object(R.jsxs)("div",{className:"formControl",children:[Object(R.jsx)("label",{for:"productPrice",className:"addProductTags",name:"price",children:"Price:"}),Object(R.jsx)("input",{required:!0,type:"number",id:"productPrice",className:"addProductInput",name:"price",onChange:C})]}),Object(R.jsxs)("div",{className:"formControl",children:[Object(R.jsx)("label",{for:"pages",className:"addProductTags",name:"pages",children:"Pages:"}),Object(R.jsx)("input",{required:!0,type:"number",id:"pages",className:"addProductInput",name:"pages",value:S.pages,onChange:C})]}),Object(R.jsxs)("div",{className:"formControl",children:[Object(R.jsx)("label",{for:"quantity",className:"addProductTags",name:"quantity",children:"Quantity:"}),Object(R.jsx)("input",{required:!0,type:"number",id:"quantity",className:"addProductInput",name:"quantity",value:S.quantity,onChange:C})]}),Object(R.jsxs)("div",{className:"formControl",children:[Object(R.jsx)("label",{for:"author",className:"addProductTags",name:"author",children:"Author:"}),Object(R.jsx)("input",{required:!0,type:"text",id:"author",className:"addProductInput",name:"author",onChange:C})]}),Object(R.jsxs)("div",{className:"formControl",children:[Object(R.jsx)("label",{for:"productDesc",className:"addProductTags",name:"desc",children:"Description:"}),Object(R.jsx)("textarea",{type:"text",id:"productDesc",className:"addProductInput",name:"desc",onChange:C})]}),Object(R.jsx)(j.a,{variant:"outlined",className:I.submitButton,type:"submit",style:{margin:"3rem"},children:"Add Product"})]})]})},L=(n(210),function(){return Object(R.jsx)(R.Fragment,{children:Object(R.jsx)("div",{className:"errorPageBody",children:Object(R.jsx)("h1",{className:"errorpageh1",children:"404-PAGE NOT FOUND \xaf\\_(\u30c4)_/\xaf"})})})}),W=(n(211),n(281)),J=n(282),_=n(285),G=n(284),H=n(283),M=n(84),z=(n(212),function(e){var t=e.onChange,n=e.changePage,c=Object(a.useState)(""),r=Object(d.a)(c,2),o=r[0],s=r[1];return Object(R.jsx)("div",{children:Object(R.jsx)("div",{className:"wrap",children:Object(R.jsxs)("div",{className:"search",children:[Object(R.jsx)("input",{onChange:function(e){s(e.target.value),t(e.target.value),n(1)},type:"text",className:"searchTerm",placeholder:"What are you looking for?"}),Object(R.jsx)("button",{type:"submit",className:"searchButton",onClick:function(){t(o),n(1)},children:Object(R.jsx)("i",{className:"fa fa-search"})})]})})})}),V=n(27);function Z(e,t,n,c){var r=Object(a.useState)(!0),o=Object(d.a)(r,2),s=o[0],i=o[1],l=Object(a.useState)(!1),u=Object(d.a)(l,2),j=u[0],b=u[1],h=Object(a.useState)([]),g=Object(d.a)(h,2),m=g[0],O=g[1],x=Object(a.useState)(!1),f=Object(d.a)(x,2),v=f[0],y=f[1],N=Object(a.useState)(t),S=Object(d.a)(N,2);S[0],S[1];return Object(a.useEffect)((function(){console.log("CHANGING PRODUCTS TO []"),O([])}),[e,c]),Object(a.useEffect)((function(){var n;return i(!0),b(!1),p()({method:"GET",url:"".concat("http://localhost:8000/","shop"),params:{query:e,pageNumber:t},cancelToken:new p.a.CancelToken((function(e){return n=e}))}).then((function(e){console.log("Hook: ",e.data.products),O((function(t){return Object(V.a)(t).concat(e.data.products)})),console.log("SETPRODUCTS: ",m),y(e.data.count),i(!1)})).catch((function(e){p.a.isCancel(e)||console.log(e)})),function(){return n()}}),[e,t]),{loading:s,error:j,hasMore:v,Products:m}}var Y=n(286),K=Object(u.a)({root:{width:"20rem !important",wordWrap:"break-word"},media:{height:140}}),X=function(){var e=K(),t=Object(D.f)(),n=Object(a.useState)(""),c=Object(d.a)(n,2),r=c[0],o=c[1],l=Object(a.useState)(1),u=Object(d.a)(l,2),j=u[0],b=u[1],h=Z(r,j),m=h.loading,O=(h.error,h.hasMore),x=h.Products,v=Object(a.useRef)(),y=Object(a.useCallback)((function(e){m||(console.log("BOOK: ",e),v.current&&(console.log("Disconnected"),v.current.disconnect()),v.current=new IntersectionObserver((function(e){e[0].isIntersecting&&O>0&&(console.log("visible"),b((function(e){return e+1})))})),e&&(v.current.observe(e),console.log(e)))}),[m,O]),N=function(){t.push("../login")},S=function(e){console.log("ORDERING SINGLE ITEM");var n="../order/".concat(e._id);t.push(n)},w=function(){var e=Object(i.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p()({method:"POST",url:"".concat("http://localhost:8000/","auth"),headers:{"content-type":"application/json",accept:"application/json"},data:JSON.stringify({token:t})});case 3:return n=e.sent,console.log(n.data._id),e.abrupt("return",n.data._id);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(i.a)(s.a.mark((function e(t){var n,a,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=localStorage.getItem("JWT"),e.next=4,w(n);case 4:return a=e.sent,console.log(a),e.next=8,p()({method:"post",url:"".concat("http://localhost:8000/","cart/").concat(a),headers:{"content-type":"application/json",accept:"application/json"},data:JSON.stringify({product:t})});case 8:c=e.sent,console.log("Result in addCart shop"),console.log(c.data),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),I=Object(f.b)(),P=Object(f.c)((function(e){return e.loggedIn.loggedIn}));return Object(a.useEffect)((function(){I({type:"LOGIN_USER"})}),[]),Object(R.jsx)(R.Fragment,{children:Object(R.jsxs)("div",{style:{padding:"1rem"},children:[Object(R.jsx)("h1",{children:"Products:"}),Object(R.jsx)("br",{}),Object(R.jsx)("br",{}),Object(R.jsx)(z,{onChange:o,changePage:b}),Object(R.jsx)("div",{className:"productPlace",style:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",alignItems:"flex-start",alignContent:"space-between"},children:0===x.length&&void 0===x?Object(R.jsx)("h1",{children:"No products Found"}):x.map((function(t,n){return x.length===n+1?Object(R.jsxs)(W.a,{className:e.root,style:{margin:"2rem 0rem"},ref:y,children:[Object(R.jsx)(g.c,{to:"/shop/detailes/".concat(t._id),style:{textDecoration:"none",color:"inherit",cursor:"pointer !important"},children:Object(R.jsxs)(J.a,{children:[Object(R.jsx)(H.a,{className:e.media,image:t.image,title:t.title}),Object(R.jsxs)(G.a,{children:[Object(R.jsx)(M.a,{gutterBottom:!0,variant:"h5",component:"h2",children:t.title}),Object(R.jsx)(M.a,{variant:"body2",color:"textSecondary",component:"p",style:{},children:t.desc.length>300?t.desc=t.desc.substr(0,300).concat("..."):t.desc}),Object(R.jsxs)(M.a,{gutterBottom:!0,variant:"h5",component:"h2",children:["\u20b9",t.price]})]})]})}),0===t.quantity?null:Object(R.jsxs)(_.a,{style:{display:"flex",justifyContent:"space-evenly"},children:[Object(R.jsx)("button",{type:"button",class:"btn btn-outline-dark",onClick:function(){!0===P?(C(t),I({type:"INC_NOTIFICATION"})):N()},children:"Add To Cart \ud83d\uded2"}),Object(R.jsx)("button",{type:"button",class:"btn btn-outline-success",onClick:function(){!0===P?S(t):N()},children:"Buy Now"})]})]},n):Object(R.jsxs)(W.a,{className:e.root,style:{margin:"2rem 0rem"},children:[Object(R.jsx)(g.c,{to:"/shop/detailes/".concat(t._id),style:{textDecoration:"none",color:"inherit",cursor:"pointer !important"},children:Object(R.jsxs)(J.a,{children:[Object(R.jsx)(H.a,{className:e.media,image:t.image,title:t.title}),Object(R.jsxs)(G.a,{children:[Object(R.jsx)(M.a,{gutterBottom:!0,variant:"h5",component:"h2",children:t.title}),Object(R.jsx)(M.a,{variant:"body2",color:"textSecondary",component:"p",style:{},children:t.desc.length>300?t.desc=t.desc.substr(0,300).concat("..."):t.desc}),Object(R.jsxs)(M.a,{gutterBottom:!0,variant:"h5",component:"h2",children:["\u20b9",t.price]})]})]})}),0===t.quantity?null:Object(R.jsxs)(_.a,{style:{display:"flex",justifyContent:"space-evenly"},children:[Object(R.jsx)("button",{type:"button",class:"btn btn-outline-dark",onClick:function(){!0===P?(C(t),I({type:"INC_NOTIFICATION"})):N()},children:"Add To Cart \ud83d\uded2"}),Object(R.jsx)("button",{type:"button",class:"btn btn-outline-success",onClick:function(){!0===P?S(t):N()},children:"Buy Now"})]})]},n)}))}),m?Object(R.jsx)("div",{children:Object(R.jsx)(Y.a,{})}):null]})})},Q=(n(213),n.p,n.p+"static/media/homePageBackground.8ccaf54f.jpg"),$=Object(u.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}},homePageShopButtonOutline:{color:"white",border:"1px solid #000000",padding:"0",fontSize:"1.2rem",fontWeight:"600","&:hover":{border:"1px solid #000000",backgroundColor:"#E4D04E",color:"#000000"}},homePageShopButtonContained:{color:"white",fontSize:"1.2rem",fontWeight:"600",backgroundColor:"#6874E8",padding:"0","&:hover":{backgroundColor:"#E8F0FF",color:"#000000"}}}})),ee=function(){var e=$(),t=Object(a.useState)(!1),n=Object(d.a)(t,2),c=n[0],r=n[1],o=Object(f.c)((function(e){return e.loggedIn.loggedIn})),l=(Object(f.c)((function(e){return e.loggedIn.userName})),Object(f.b)()),u=function(){var e=Object(i.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p()({method:"POST",url:"".concat("http://localhost:8000/","auth"),headers:{"content-type":"application/json",accept:"application/json"},data:JSON.stringify({token:t})});case 3:return n=e.sent,console.log(n.data._id),e.abrupt("return",n.data._id);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){null===localStorage.getItem("JWT")?(r(!1),console.log("No user Logged in!")):function(){var e=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("JWT"),e.next=3,u(t);case 3:void 0!==e.sent&&(l({type:"LOGIN_USER"}),r(!0));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[c]),Object(R.jsxs)("div",{className:"welcomePageBody",style:{backgroundImage:"url(".concat(Q,")"),backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat"},children:[Object(R.jsxs)("div",{children:[Object(R.jsx)("h1",{className:"welcomePageHeading",children:"Welcome to EMarting!"}),Object(R.jsx)("p",{className:"welcomePageTagLine",children:"Choose Your Favorite Books from biggest Collection!"})]}),Object(R.jsxs)("div",{className:"homePageButtons",children:[!1===o?Object(R.jsx)(j.a,{variant:"outlined",color:"secondary",className:e.homePageShopButtonOutline,children:Object(R.jsx)(g.b,{to:"/login",style:{textDecoration:"none",color:"inherit",height:"100%",width:"100%",padding:"0.5rem 1rem"},children:"LogIn"})}):null,Object(R.jsx)(j.a,{variant:"contained",color:"secondary",className:e.homePageShopButtonContained,children:Object(R.jsx)(g.b,{to:"/shop",style:{textDecoration:"none",color:"inherit",height:"100%",width:"100%",padding:"0.5rem 1rem"},children:"Shop \ud83d\uded2"})})]})]})},te=(n(214),n(134)),ne=n.n(te),ae=Object(u.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)},button:{}}})),ce=function(){var e=Object(a.useState)(!1),t=Object(d.a)(e,2),n=(t[0],t[1],Object(a.useState)()),c=Object(d.a)(n,2),r=(c[0],c[1]),o=ae(),l=Object(a.useState)(!1),u=Object(d.a)(l,2),b=u[0],h=u[1],m=Object(a.useState)(),O=Object(d.a)(m,2),x=(O[0],O[1],Object(a.useState)([])),f=Object(d.a)(x,2),v=f[0],y=f[1],N=0;console.log(v);var S=Object(D.f)(),w=function(){var e=Object(i.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p()({method:"POST",url:"".concat("http://localhost:8000/","auth"),headers:{"content-type":"application/json",accept:"application/json"},data:JSON.stringify({token:t})});case 3:return n=e.sent,console.log(n.data._id),r(n.data._id),e.abrupt("return",n.data._id);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(i.a)(s.a.mark((function e(t){var n,a,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=localStorage.getItem("JWT"),e.next=4,w(n);case 4:return a=e.sent,e.next=7,p()({method:"POST",url:"".concat("http://localhost:8000/","cart/delete/").concat(a),headers:{"content-type":"application/json",accept:"application/json"},data:JSON.stringify({data:t})});case 7:c=e.sent,console.log(c),h((function(e){return!e})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(i.a)(s.a.mark((function e(){var t,n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,null!==(t=localStorage.getItem("JWT"))){e.next=6;break}y(null),e.next=16;break;case 6:return e.next=8,w(t);case 8:return n=e.sent,console.log("useeffect: ",n),e.next=12,p.a.get("".concat("http://localhost:8000/","cart/").concat(n));case 12:a=e.sent,console.log(a.data),y(a.data),console.log(v);case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){I()}),[b]),Object(R.jsxs)("div",{children:[Object(R.jsx)("div",{className:"cartTitle",style:{maxWidth:"fit-content",margin:"2rem auto auto 2rem"},children:Object(R.jsx)("h1",{style:{},children:"Your Cart:"})}),Object(R.jsx)("div",{className:"cartProductsList",style:{border:"1px solid black",borderRadius:"10px",margin:"1rem 1rem 1rem 1rem"},children:null!==v?0===v.length?Object(R.jsx)("h1",{children:"Your EMarting cart is Empty!"}):Object(R.jsxs)(R.Fragment,{children:[v.map((function(e){return N+=e.productId.price*e.quantity,Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)("div",{className:"cartProductDetailesTotal",children:null!==e.productId?Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(g.b,{to:"/shop/detailes/".concat(e.productId._id),children:Object(R.jsx)("div",{className:"cartImageDiv",children:Object(R.jsx)("img",{src:e.productId.image,alt:"product"})})}),Object(R.jsxs)("div",{className:"cartProductDetailes",children:[Object(R.jsx)("div",{className:"cartProductTitlePrice",children:Object(R.jsx)(g.b,{to:"/shop/detailes/".concat(e.productId._id),className:"cartProductTitleLink",children:Object(R.jsx)("h4",{className:"cartProductTitle",children:e.productId.title})})}),Object(R.jsx)("div",{className:"cartProductPrice",children:Object(R.jsxs)("h4",{children:["\u20b9",e.productId.price*e.quantity]})}),Object(R.jsx)("h2",{style:{fontWeight:"500",fontSize:"0.9rem",alignSelf:"start",marginBottom:"1rem"},children:Object(R.jsx)("i",{children:e.productId.genre})}),Object(R.jsxs)("div",{className:"cartProductDetiales2",children:[Object(R.jsxs)("p",{children:["Quantity:",e.quantity]}),Object(R.jsx)(j.a,{variant:"contained",color:"secondary",className:o.button,startIcon:Object(R.jsx)(ne.a,{}),onClick:function(){C(e.productId)},children:"Delete"})]})]})]}):"Yo"}),Object(R.jsx)("hr",{})]})})),Object(R.jsx)("div",{className:"cartTotalPriceDiv",style:{width:"100%",display:"flex",justifyContent:"flex-end"},children:Object(R.jsxs)("h1",{style:{alignSelf:"end",margin:"1rem",fontSize:"1.5rem"},children:["Total: ",N]})}),Object(R.jsx)("button",{type:"button",className:"btn btn-success m-3",style:{width:"10rem"},onClick:function(){S.push("../order")},children:"Order"})]}):Object(R.jsx)("h1",{children:"Login to your Account to Access Cart"})})]})},re=(n(215),n(69)),oe=Object(u.a)({root:{width:"20rem !important"},media:{height:140}}),se=function(){var e=Object(a.useState)(!1),t=Object(d.a)(e,2),n=t[0],c=t[1],r=oe(),o=(Object(D.f)(),Object(a.useState)("")),l=Object(d.a)(o,2),u=l[0],j=l[1],b=Object(a.useState)(1),h=Object(d.a)(b,2),m=h[0],O=h[1],x=Z(u,m,0,n),f=x.loading,v=(x.error,x.hasMore),y=x.Products,N=Object(a.useRef)(),S=Object(a.useCallback)((function(e){f||(console.log("BOOK: ",e),N.current&&(console.log("Disconnected"),N.current.disconnect()),N.current=new IntersectionObserver((function(e){e[0].isIntersecting&&v>0&&(console.log("visible"),O((function(e){return e+1})))})),e&&(N.current.observe(e),console.log(e)))}),[f,v]),w=function(){var e=Object(i.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p()({method:"POST",url:"".concat("http://localhost:8000/","admin/editProduct/delete"),headers:{"content-type":"application/json",accept:"application/json"},data:JSON.stringify({data:t})});case 3:a=e.sent,c((function(e){return!e})),O(1),console.log(a),console.log(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){}),[n]),Object(R.jsx)(R.Fragment,{children:Object(R.jsxs)("div",{style:{padding:"1rem"},children:[Object(R.jsx)("h1",{children:"Products:"}),Object(R.jsx)("br",{}),Object(R.jsx)("br",{}),Object(R.jsx)(z,{onChange:j,changePage:O}),Object(R.jsx)("div",{className:"productPlace",style:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",alignItems:"flex-start",alignContent:"space-between"},children:0===y.length&&void 0!==y?Object(R.jsx)("h1",{children:"No products Found"}):y.map((function(e,t){return y.length===t+1?Object(R.jsxs)(W.a,{className:r.root,style:{margin:"2rem 0rem"},ref:S,children:[Object(R.jsx)(g.c,{to:"/shop/detailes/".concat(e._id),style:{textDecoration:"none",color:"inherit",cursor:"pointer !important"},children:Object(R.jsxs)(J.a,{children:[Object(R.jsx)(H.a,{className:r.media,image:e.image,title:e.title}),Object(R.jsxs)(G.a,{children:[Object(R.jsx)(M.a,{gutterBottom:!0,variant:"h5",component:"h2",children:e.title}),Object(R.jsx)(M.a,{variant:"body2",color:"textSecondary",component:"p",style:{},children:e.desc.length>300?e.desc=e.desc.substr(0,300).concat("..."):e.desc}),Object(R.jsxs)(M.a,{gutterBottom:!0,variant:"h5",component:"h2",children:["\u20b9",e.price]})]})]})}),Object(R.jsxs)(_.a,{style:{display:"flex",justifyContent:"space-evenly"},children:[Object(R.jsx)("button",{type:"button",class:"btn btn-outline-success",children:Object(R.jsxs)(g.c,{to:"/admin/editProduct/".concat(e._id),style:{textDecoration:"none",color:"inherit"},children:["Edit ",Object(R.jsx)(re.b,{})]})}),Object(R.jsxs)("button",{type:"button",class:"btn btn-outline-danger",onClick:function(){w(e)},children:["Delete ",Object(R.jsx)(re.a,{})]})]})]}):Object(R.jsxs)(W.a,{className:r.root,style:{margin:"2rem 0rem"},children:[Object(R.jsx)(g.c,{to:"/shop/detailes/".concat(e._id),style:{textDecoration:"none",color:"inherit",cursor:"pointer !important"},children:Object(R.jsxs)(J.a,{children:[Object(R.jsx)(H.a,{className:r.media,image:e.image,title:e.title}),Object(R.jsxs)(G.a,{children:[Object(R.jsx)(M.a,{gutterBottom:!0,variant:"h5",component:"h2",children:e.title}),Object(R.jsx)(M.a,{variant:"body2",color:"textSecondary",component:"p",style:{},children:e.desc.length>300?e.desc=e.desc.substr(0,300).concat("..."):e.desc}),Object(R.jsxs)(M.a,{gutterBottom:!0,variant:"h5",component:"h2",children:["\u20b9",e.price]})]})]})}),Object(R.jsxs)(_.a,{style:{display:"flex",justifyContent:"space-evenly"},children:[Object(R.jsx)("button",{type:"button",class:"btn btn-outline-success",children:Object(R.jsxs)(g.c,{to:"/admin/editProduct/".concat(e._id),style:{textDecoration:"none",color:"inherit"},children:["Edit ",Object(R.jsx)(re.b,{})]})}),Object(R.jsxs)("button",{type:"button",class:"btn btn-outline-danger",onClick:function(){w(e),c((function(e){return!e}))},children:["Delete ",Object(R.jsx)(re.a,{})]})]})]})}))}),f?Object(R.jsx)("div",{children:Object(R.jsx)(Y.a,{})}):null]})})},ie=(n(126),n.p,n(216),n(298)),le=function(e){var t=e.closeBackDrop,n=e.product,c=e.userId,r=Object(a.useState)(1),o=Object(d.a)(r,2),l=o[0],u=o[1],j=Object(a.useState)(""),b=Object(d.a)(j,2),h=b[0],g=b[1],m=Object(a.useState)(""),O=Object(d.a)(m,2),x=O[0],f=O[1],v=Object(a.useState)(!1),y=Object(d.a)(v,2),N=y[0],S=y[1],w=function(){var e=Object(i.a)(s.a.mark((function e(){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={rating:l,heading:h.trim(),desc:x.trim(),userId:c,productId:n._id},console.log(a),e.next=4,p()({method:"POST",url:"".concat("http://localhost:8000/","comment"),headers:{"content-type":"application/json",accept:"application/json"},data:a});case 4:r=e.sent,console.log(r),"SUCCESS"===r.data?t((function(e){return!e})):S((function(e){return!e}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(R.jsx)("div",{className:"productReviewBackdrop",onClick:function(){t((function(e){return!e}))},children:Object(R.jsxs)("div",{className:"productReviewMain",onClick:function(e){e.stopPropagation()},children:[Object(R.jsxs)("div",{className:"productReviewMainHeader",children:[Object(R.jsx)("h1",{style:{fontSize:"1.7rem"},className:"mr-auto mt-2",children:"Create Review:"}),Object(R.jsx)("h1",{onClick:function(){t((function(e){return!e}))},style:{cursor:"pointer"},children:"x"})]}),Object(R.jsx)("hr",{}),Object(R.jsx)("h1",{style:{fontSize:"1.5rem"},children:"OverAll Rating: "}),Object(R.jsx)(ie.a,{name:"simple-controlled",value:l,onChange:function(e,t){u(t)},style:{marginBottom:"2rem"}}),Object(R.jsx)("h1",{style:{fontSize:"1.5rem"},children:"Add a headline: "}),Object(R.jsx)("input",{type:"text",class:"form-control mb-3",id:"",value:h,onChange:function(e){g(e.target.value)},required:!0,placeholder:"Heading"}),Object(R.jsx)("h1",{style:{fontSize:"1.5rem"},children:"Add a written review: "}),Object(R.jsx)("textarea",{type:"text",class:"form-control mb-2",id:"",rows:"3",value:x,style:{resize:"none"},onChange:function(e){f(e.target.value)},required:!0,placeholder:"Describe you experions!"}),N?Object(R.jsx)("div",{class:"alert alert-danger",role:"alert",children:"Error"}):null,Object(R.jsx)("button",{type:"button",class:"btn btn-outline-success",style:{alignSelf:"center"},onClick:function(){w()},children:"Submit"})]})})},de=n(297);var ue=function(){var e=Object(a.useState)(Object(D.g)()),t=Object(d.a)(e,2),n=t[0],c=(t[1],Object(a.useState)({})),r=Object(d.a)(c,2),o=r[0],l=r[1],u=Object(a.useState)(!1),j=Object(d.a)(u,2),b=j[0],h=j[1],g=Object(a.useState)(0),m=Object(d.a)(g,2),O=m[0],x=m[1],f=Object(a.useState)(""),v=Object(d.a)(f,2),y=v[0],N=v[1],S=Object(a.useState)({}),w=Object(d.a)(S,2),C=w[0],I=w[1],P=n.id,k="".concat("http://localhost:8000/","shop/detailes/").concat(P),T=Object(a.useState)(""),E=Object(d.a)(T,2),A=(E[0],E[1],Object(a.useState)(1)),B=Object(d.a)(A,2),F=B[0],q=B[1];function U(e,t){var n=Math.pow(10,t||0);return Math.round(e*n)/n}var L=function(){var e=Object(i.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p()({method:"POST",url:"".concat("http://localhost:8000/","auth"),headers:{"content-type":"application/json",accept:"application/json"},data:JSON.stringify({token:t})});case 3:return n=e.sent,console.log(n.data),e.abrupt("return",n.data);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(i.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("JWT"),e.next=3,L(t);case 3:n=e.sent,N(n),p.a.get(k).then((function(e){var t=e.data;console.log(t),l(t),console.log(o),x(t.rating),console.log(O),p.a.get("".concat("http://localhost:8000/","getRatingPerStar/").concat(t._id)).then((function(e){I(e.data),console.log(e)})).catch((function(e){return console.log(e)}))})).catch((function(e){console.log(e)}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(e,t){var n=Object(a.useState)(!0),c=Object(d.a)(n,2),r=c[0],o=c[1],s=Object(a.useState)(!1),i=Object(d.a)(s,2),l=i[0],u=i[1],j=Object(a.useState)([]),b=Object(d.a)(j,2),h=b[0],g=b[1],m=Object(a.useState)(!1),O=Object(d.a)(m,2),x=O[0],f=O[1];return Object(a.useEffect)((function(){console.log("Changed ProductID"),g([])}),[e]),Object(a.useEffect)((function(){o(!0),u(!1),p()({method:"GET",url:"".concat("http://localhost:8000/","review"),params:{productId:e,pageNumber:t}}).then((function(e){console.log("Hook: ",e.data.review),g((function(t){return console.log("In setting : ",Object(V.a)(t).concat(e.data.review)),Object(V.a)(t).concat(e.data.review)})),console.log("SETREVIEWS: ",h),f(e.data.count),o(!1)})).catch((function(e){return console.log(e)}))}),[e,t]),{loading:r,error:l,hasMore:x,Reviews:h}}(o._id,F),_=J.loading,G=(J.error,J.hasMore),H=J.Reviews,M=Object(a.useRef)(),z=Object(a.useCallback)((function(e){_||(console.log("REVIEW: ",e),M.current&&(console.log("Disconnected"),M.current.disconnect()),M.current=new IntersectionObserver((function(e){e[0].isIntersecting&&G>0&&(console.log("visible"),q((function(e){return e+1})))})),e&&(M.current.observe(e),console.log(e)))}),[_,G]);return Object(a.useEffect)((function(){console.log(k),W()}),[H]),Object(R.jsxs)("div",{children:[Object(R.jsx)("h1",{style:{margin:"2rem 0 2rem 0"},children:"Product Details:"}),void 0===o?Object(R.jsx)("img",{src:_,alt:"Loading"}):Object(R.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",alignContent:"flex-start"},children:[Object(R.jsx)("div",{className:"productDetailesProductImage",children:Object(R.jsx)("img",{src:o.image,className:"productDetailesImage",alt:"Product"})}),Object(R.jsxs)("div",{style:{alignContent:"start",justifyContent:"start",textAlign:"start",width:"fit-content",margin:"auto",maxWidth:"65%",wordWrap:"wrap"},children:[Object(R.jsx)("h2",{children:o.title}),Object(R.jsxs)("h6",{children:["By: ",o.author]}),Object(R.jsxs)("div",{className:"ProductDetailsRatingDiv",style:{display:"flex",alignContent:"center"},children:[Object(R.jsx)(ie.a,{readOnly:!0,value:O,precision:.1}),Object(R.jsx)("p",{style:{marginLeft:"0.5rem"},children:U(O,1)})]}),Object(R.jsxs)("p",{children:["Product Id: ",o._id]}),Object(R.jsxs)("h4",{children:["\u20b9",o.price]}),0===o.quantity?Object(R.jsx)("p",{style:{fontSize:"1.2rem",color:"rgb(79%, 14%, 16%)"},children:"Item out of Stock!"}):Object(R.jsxs)("p",{style:{fontSize:"0.8rem",color:"rgba(109, 109, 109, 1)"},children:["Only ",o.quantity," Left"]}),Object(R.jsx)("p",{style:{},children:o.desc}),0===o.quantity?null:Object(R.jsxs)("div",{style:{marginTop:"3rem",display:"flex",width:"100%",justifyContent:"space-evenly"},children:[Object(R.jsx)("button",{type:"button",class:"btn btn-outline-dark",children:"Add To Cart \ud83d\uded2"}),Object(R.jsx)("button",{type:"button",class:"btn btn-outline-success",children:"Buy Now"})]})]})]}),Object(R.jsxs)("div",{className:"productDetailesReviewsDiv",children:[Object(R.jsxs)("div",{className:"productDetailesReviewsDiv1",children:[Object(R.jsxs)("div",{className:"productDetailesReviewsDiv1Rating",children:[Object(R.jsx)("h1",{children:"Customers Reviews: "}),Object(R.jsxs)("div",{className:"ProductDetailsRatingDiv",style:{display:"flex",alignContent:"baseline"},children:[Object(R.jsx)(ie.a,{readOnly:!0,value:O,precision:.1,style:{marginTop:"0.3rem"}}),Object(R.jsxs)("p",{style:{marginLeft:"0.5rem",fontSize:"1.3rem"},children:[U(O,1)," out of 5"]})]}),Object(R.jsxs)("div",{className:"ratingPercentageDivPerRating",children:[Object(R.jsx)("p",{style:{},children:"5 star"}),Object(R.jsx)("div",{className:"ParentRatingPercentageDiv",children:Object(R.jsx)("div",{className:"childRatingPercentageDiv",style:{width:"".concat(C.five,"%"),height:"100%"}})}),C.five,"%"]}),Object(R.jsxs)("div",{className:"ratingPercentageDivPerRating",children:[Object(R.jsx)("p",{children:"4 star"}),Object(R.jsx)("div",{className:"ParentRatingPercentageDiv",children:Object(R.jsx)("div",{className:"childRatingPercentageDiv",style:{width:"".concat(C.four,"%"),height:"100%"}})}),C.four,"%"]}),Object(R.jsxs)("div",{className:"ratingPercentageDivPerRating",children:[Object(R.jsx)("p",{children:"3 star"}),Object(R.jsx)("div",{className:"ParentRatingPercentageDiv",children:Object(R.jsx)("div",{className:"childRatingPercentageDiv",style:{width:"".concat(C.three,"%"),height:"100%"}})}),C.three,"%"]}),Object(R.jsxs)("div",{className:"ratingPercentageDivPerRating",children:[Object(R.jsx)("p",{children:"2 star"}),Object(R.jsx)("div",{className:"ParentRatingPercentageDiv",children:Object(R.jsx)("div",{className:"childRatingPercentageDiv",style:{width:"".concat(C.two,"%"),height:"100%"}})}),C.two,"%"]}),Object(R.jsxs)("div",{className:"ratingPercentageDivPerRating",children:[Object(R.jsx)("p",{children:"1 star"}),Object(R.jsx)("div",{className:"ParentRatingPercentageDiv",children:Object(R.jsx)("div",{className:"childRatingPercentageDiv",style:{width:"".concat(C.one,"%"),height:"100%"}})}),C.one,"%"]})]}),Object(R.jsx)("h3",{children:"Review this product"}),Object(R.jsx)("p",{children:"Share your thoughts with other customers"}),Object(R.jsxs)("button",{type:"button",class:"btn btn-secondary",onClick:function(){h(!0)},children:["Write a Review ",">"]})]}),Object(R.jsxs)("div",{className:"productDetailesReviewsDiv2",children:[Object(R.jsx)("h1",{children:"Reviews: "}),Object(R.jsx)("hr",{}),0===H.length?Object(R.jsx)("div",{children:Object(R.jsx)("h1",{children:"No Reviews for this product!"})}):H.map((function(e,t){return H.length===t+1?Object(R.jsxs)("div",{className:"ProductReviewSectionReviews",ref:z,children:[Object(R.jsxs)("div",{className:"ProductReviewSectionReviewsUser",children:[Object(R.jsx)(de.a,{children:null===e.userId?e.googleUserId.username[0]:e.userId.username[0]}),Object(R.jsx)("p",{children:null===e.userId?e.googleUserId.username:e.userId.username})]}),Object(R.jsxs)("div",{className:"ProductReviewSectionReviewsHeading",children:[Object(R.jsx)(ie.a,{value:e.rating,readOnly:!0}),Object(R.jsx)("p",{children:e.heading})]}),Object(R.jsxs)("div",{className:"ProductReviewSectionReviewsDate",children:[Object(R.jsx)("p",{children:"Reaviewed On:"}),e.createdAt]}),Object(R.jsx)("div",{className:"ProductReviewSectionReviewsReviewDesc",children:e.desc})]}):Object(R.jsxs)("div",{className:"ProductReviewSectionReviews",children:[Object(R.jsxs)("div",{className:"ProductReviewSectionReviewsUser",children:[Object(R.jsx)(de.a,{children:null===e.userId?e.googleUserId.username[0]:e.userId.username[0]}),Object(R.jsx)("p",{children:null===e.userId?e.googleUserId.username:e.userId.username})]}),Object(R.jsxs)("div",{className:"ProductReviewSectionReviewsHeading",children:[Object(R.jsx)(ie.a,{value:e.rating,readOnly:!0}),Object(R.jsx)("p",{children:e.heading})]}),Object(R.jsxs)("div",{className:"ProductReviewSectionReviewsDate",children:[Object(R.jsx)("p",{children:"Reaviewed On:"}),e.createdAt]}),Object(R.jsx)("div",{className:"ProductReviewSectionReviewsReviewDesc",children:e.desc})]})}))]})]}),_?Object(R.jsx)(Y.a,{style:{display:"block",margin:"auto"}}):null,b?Object(R.jsx)(le,{product:o,closeBackDrop:h,userId:y}):null]})},je=(n(217),Object(u.a)({submitButton:{backgroundColor:"#34eef6",color:"white",fontWeight:"600","&:hover":{backgroundColor:"#c1fcff",color:"black"}}})),be=function(e){var t,n=Object(a.useState)(Object(D.g)()),c=Object(d.a)(n,2),r=c[0],o=(c[1],Object(a.useState)({})),u=Object(d.a)(o,2),b=u[0],h=u[1],m=Object(a.useState)(""),O=Object(d.a)(m,2),x=(O[0],O[1]),f=Object(a.useState)(""),v=Object(d.a)(f,2),y=v[0],N=v[1],S=Object(a.useState)({id:"",title:"",price:"",desc:"",genre:null,author:"",quantity:0,pages:0}),w=Object(d.a)(S,2),C=w[0],I=w[1],P=function(e){if("title"==e.target.name&&I(Object(l.a)(Object(l.a)({},C),{},{title:e.target.value})),"author"==e.target.name&&I(Object(l.a)(Object(l.a)({},C),{},{author:e.target.value})),"desc"==e.target.name&&I(Object(l.a)(Object(l.a)({},C),{},{desc:e.target.value})),"price"==e.target.name&&I(Object(l.a)(Object(l.a)({},C),{},{price:e.target.value})),"pages"==e.target.name&&(e.target.value<0?I(Object(l.a)(Object(l.a)({},C),{},{pages:0})):I(Object(l.a)(Object(l.a)({},C),{},{pages:e.target.value}))),"quantity"==e.target.name&&(e.target.value<0?I(Object(l.a)(Object(l.a)({},C),{},{quantity:0})):I(Object(l.a)(Object(l.a)({},C),{},{quantity:e.target.value}))),"imageFile"==e.target.name){I(Object(l.a)(Object(l.a)({},C),{},{image:e.target.files[0]})),x(e.target.files[0]),console.log("Event.target: ",e.target.files[0]);var t=new FileReader;t.readAsDataURL(e.target.files[0]),t.onloadend=function(){N(t.result)}}console.log(C)},k=je(),T=function(){var e=Object(i.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p()({method:"POST",url:"".concat("http://localhost:8000/","auth"),headers:{"content-type":"application/json",accept:"application/json"},data:JSON.stringify({token:t})});case 3:return n=e.sent,console.log(n.data._id),e.abrupt("return",n.data._id);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(i.a)(s.a.mark((function e(t){var n,a,c,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=new FormData,a={id:C.id,title:C.title,price:C.price,desc:C.desc,genre:C.genre,pages:C.pages,quantity:C.quantity,author:C.author},n.append("data",JSON.stringify(a)),n.append("file",C.image),console.log(n),e.prev=6,c=localStorage.getItem("JWT"),e.next=10,T(c);case 10:return e.sent,e.next=13,p()({method:"post",url:"".concat("http://localhost:8000/","admin/editProduct"),data:n,headers:{"content-type":"multipart/form-data"}});case 13:r=e.sent,console.log(r.data),I({title:"",price:"",desc:"",genre:null,author:"",quantity:0,pages:0}),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(6),console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[6,18]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){console.log(r.id),function(e){p.a.get("".concat("http://localhost:8000/","admin/editProduct/").concat(e)).then((function(e){t=e.data,console.log(t),h(t),console.log(b),I({id:t._id,title:t.title,price:t.price,desc:t.desc,genre:t.genre,pages:t.pages,quantity:t.quantity,author:t.author})})).catch((function(e){console.log(e)}))}(r.id)}),[]),Object(R.jsxs)("div",{children:[Object(R.jsx)("h1",{children:"Edit Product:"}),Object(R.jsxs)("form",{className:"addProductForm",onSubmit:E,encType:"multipart/form-data",children:[Object(R.jsxs)("div",{className:"formControl",children:[Object(R.jsx)("label",{for:"productTitle",className:"addProductTags mr-auto",name:"title",children:"Title:"}),Object(R.jsx)("input",{required:!0,type:"text",id:"productTitle",className:"addProductInput",name:"title",value:C.title,onChange:P})]}),Object(R.jsxs)("div",{className:"formControl",children:[Object(R.jsx)("label",{for:"productImageFile",className:"addProductTags",name:"imageURL",children:"Image:"}),Object(R.jsx)("input",{required:!0,type:"file",id:"productImageFile",className:"addProductInput",name:"imageFile",onChange:P})]}),y&&Object(R.jsxs)("div",{children:[Object(R.jsx)("p",{children:"Preview:"}),Object(R.jsx)("img",{src:y,alt:"preview",style:{height:"300px"}})]}),Object(R.jsxs)("div",{className:"formControl",children:[Object(R.jsx)("label",{for:"genre",className:"addProductTags",name:"genre",children:"Genre:"}),Object(R.jsx)(B,{required:!0,types:F,Statement:"Select the Genre ",value:C.genre,name:"genre",onChange:I})]}),Object(R.jsxs)("div",{className:"formControl",children:[Object(R.jsx)("label",{for:"productPrice",className:"addProductTags",name:"price",children:"Price:"}),Object(R.jsx)("input",{required:!0,type:"number",id:"productPrice",className:"addProductInput",value:C.price,name:"price",onChange:P})]}),Object(R.jsxs)("div",{className:"formControl",children:[Object(R.jsx)("label",{for:"pages",className:"addProductTags",name:"pages",children:"Pages:"}),Object(R.jsx)("input",{required:!0,type:"number",id:"pages",className:"addProductInput",name:"pages",value:C.pages,onChange:P})]}),Object(R.jsxs)("div",{className:"formControl",children:[Object(R.jsx)("label",{for:"quantity",className:"addProductTags",name:"quantity",children:"Quantity:"}),Object(R.jsx)("input",{required:!0,type:"number",id:"quantity",className:"addProductInput",name:"quantity",value:C.quantity,onChange:P})]}),Object(R.jsxs)("div",{className:"formControl",children:[Object(R.jsx)("label",{for:"author",className:"addProductTags",name:"author",children:"Author:"}),Object(R.jsx)("input",{required:!0,type:"text",id:"author",className:"addProductInput",name:"author",value:C.author,onChange:P})]}),Object(R.jsxs)("div",{className:"formControl",children:[Object(R.jsx)("label",{for:"productDesc",className:"addProductTags",name:"desc",children:"Description:"}),Object(R.jsx)("textarea",{type:"text",id:"productDesc",className:"addProductInput",name:"desc",value:C.desc,onChange:P})]}),Object(R.jsx)(j.a,{variant:"outlined",className:k.submitButton,type:"submit",style:{margin:"3rem"},children:Object(R.jsx)(g.c,{to:"../shop",style:{textDecoration:"none",fontSize:"inherit",color:"inherit"},children:"Edit Product"})})]})]})},pe=n(52),he={notification:0},ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INC_NOTIFICATION":return Object(l.a)(Object(l.a)({},e),{},{notification:e.notification+1});case"DEC_NOTIFICATION":return Object(l.a)(Object(l.a)({},e),{},{notification:0});default:return e}},me=(n(13),{loggedIn:!1,userName:""}),Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0,n=localStorage.getItem("JWT"),a=localStorage.getItem("username");switch(void 0!==a&&null!==a&&a.length>12&&(a=(a=a.substring(0,12)).concat("...")),console.log(n),null!==n?t.type="LOGIN_USER":null===n&&(t.type="LOGOUT_USER"),t.type){case"LOGOUT_USER":return Object(l.a)(Object(l.a)({},e),{},{loggedIn:!1});case"LOGIN_USER":return Object(l.a)(Object(l.a)({},e),{},{loggedIn:!0,userName:a});default:return e}},xe=Object(pe.combineReducers)({notifications:ge,loggedIn:Oe}),fe=n(135),ve=(n(218),window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||pe.compose),ye=Object(pe.createStore)(xe,ve(Object(pe.applyMiddleware)(fe.logger))),Ne=n(29),Se=(n(219),n.p+"static/media/loginPageBackground.242d85b6.jpg"),we=n(81),Ce=n.n(we),Ie=n(82),Pe=n.n(Ie),ke=n(80),Te=function(){return Object(R.jsx)("svg",{style:{width:"20px",height:"20px"},viewBox:"0 0 24 24",children:Object(R.jsx)("path",{fill:"currentColor",d:"M21.35,11.1H12.18V13.83H18.69C18.36,17.64 15.19,19.27 12.19,19.27C8.36,19.27 5,16.25 5,12C5,7.9 8.2,4.73 12.2,4.73C15.29,4.73 17.1,6.7 17.1,6.7L19,4.72C19,4.72 16.56,2 12.1,2C6.42,2 2.03,6.8 2.03,12C2.03,17.05 6.16,22 12.25,22C17.6,22 21.5,18.33 21.5,12.91C21.5,11.76 21.35,11.1 21.35,11.1V11.1Z"})})},Re=Object(u.a)({button:{backgroundColor:"#FFD919",padding:"0.5rem 1.5rem",color:"black",margin:"1rem 0rem 1rem"},googleAuthButton:{color:"white",backgroundColor:"#662C91",marginTop:"1rem","&:hover":{backgroundColor:"#FFD919",color:"black"}}}),Ee=function(e){var t=Object(a.useState)(!1),n=Object(d.a)(t,2),c=n[0],r=n[1],o=Object(a.useState)(""),u=Object(d.a)(o,2),b=u[0],h=u[1],m=Object(a.useState)({email:"",pass:""}),O=Object(d.a)(m,2),x=O[0],v=O[1],y=Object(D.f)(),N=function(){y.push("../")},S=(Object(f.c)((function(e){return e.loggedIn.loggedIn})),Object(f.b)()),w=function(e){"email"==e.target.name?v(Object(l.a)(Object(l.a)({},x),{},{email:e.target.value})):v(Object(l.a)(Object(l.a)({},x),{},{pass:e.target.value})),console.log(x)},C=function(){var e=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p()({method:"POST",url:"".concat("http://localhost:8000/","auth/login"),headers:{"content-type":"application/json",accept:"application/json"},data:JSON.stringify({data:x})});case 3:t=e.sent,console.log(t),"ERROR"==t.data.code?h("INVALID CREDENTIALS!"):h(""),"SUCCESS"==t.data.code&&(console.log("SETTING THE TOKEN!"),localStorage.setItem("JWT",t.data.token),console.log(t.data.username.split(" ")[0]),localStorage.setItem("username",t.data.username.split(" ")[0]),S({type:"LOGIN_USER"}),N()),console.log("SENT USER INFO"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(i.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(""),e.prev=1,e.next=4,p()({method:"POST",url:"".concat("http://localhost:8000/","auth/googleLogIn"),headers:{"content-type":"application/json",accept:"application/json"},data:JSON.stringify({data:t})});case 4:n=e.sent,console.log("SENT USER INFO"),console.log(n),"error"!==n.data?(localStorage.setItem("JWT",n.data.token),localStorage.setItem("username",n.data.username.split(" ")[0]),S({type:"LOGIN_USER"}),N()):h("GOOGLE AUTHENTICATION FAILED!\n(you might need to registered First!)"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),P=Re(e);return Object(R.jsx)("div",{className:"loginPageMainDiv",style:{backgroundImage:"url(".concat(Se,")"),backgroundRepeat:"no-repeat",backgroundSize:"100% 100%",backgroundAttachment:"fixed",minHeight:"87vh",minWidth:"100vw",paddingTop:"2rem"},children:Object(R.jsxs)("div",{className:"loginFromDivMain",children:[Object(R.jsx)("h1",{style:{display:"inline-block",marginBottom:"2rem",color:"white"},children:"Login"}),Object(R.jsxs)("form",{className:"loginForm",children:[Object(R.jsxs)("div",{className:"form-floating mb-3",children:[Object(R.jsx)("input",{autoFocus:!0,name:"email",type:"email",className:"form-control",id:"floatingInput",placeholder:"name@example.com",onChange:function(e){w(e)}}),Object(R.jsx)("label",{for:"floatingInput",children:"Email address"})]}),Object(R.jsxs)("div",{className:"form-floating",children:[Object(R.jsx)("input",{name:"pass",type:c?"text":"password",className:"form-control",id:"floatingPassword",placeholder:"Password",onChange:function(e){w(e)}}),Object(R.jsx)("div",{style:{display:"inline-block",marginLeft:"auto",position:"absolute",right:"10px",top:"15px",cursor:"pointer"},onClick:function(){r(!c)},children:c?Object(R.jsx)(Ce.a,{}):Object(R.jsx)(Pe.a,{})}),Object(R.jsx)("label",{for:"floatingPassword",children:"Password"})]}),""===b?null:Object(R.jsx)("p",{style:Object(Ne.a)({color:"white",fontWeight:"700",marginTop:"1rem",padding:"1rem",background:"rgb(236,54,27)"},"background","linear-gradient(0deg, rgba(236,54,27,1) 0%, rgba(230,59,13,1) 30%, rgba(244,2,2,1) 100%)"),children:b}),Object(R.jsx)(j.a,{variant:"contained",className:P.button,onClick:Object(i.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C();case 2:case"end":return e.stop()}}),e)}))),children:"Login"}),Object(R.jsx)(ke.GoogleLogin,{clientId:"932722578967-3qbrmborj9dd6nevja1a2fqnksbjhedf.apps.googleusercontent.com",render:function(e){return Object(R.jsx)(j.a,{className:P.googleAuthButton,fullWidth:!0,onClick:e.onClick,disabled:e.disabled,startIcon:Object(R.jsx)(Te,{}),variant:"container",children:"Google SignIn"})},onSuccess:I,onFailure:function(){h("Google AUthentication Error!")},cookiePolicy:"single_host_origin"}),Object(R.jsx)("li",{className:"nav-item",style:{listStyleType:"none"},children:Object(R.jsx)(g.c,{exact:!0,activeClassName:"linkIsActive",className:"nav-link","aria-current":"page",to:"/signUp",children:"New to Emarting?"})})]})]})})},Ae=(n(220),n.p+"static/media/signInBackground.ac024b9e.jpg"),De=function(){return Object(R.jsx)("svg",{style:{width:"20px",height:"20px"},viewBox:"0 0 24 24",children:Object(R.jsx)("path",{fill:"currentColor",d:"M21.35,11.1H12.18V13.83H18.69C18.36,17.64 15.19,19.27 12.19,19.27C8.36,19.27 5,16.25 5,12C5,7.9 8.2,4.73 12.2,4.73C15.29,4.73 17.1,6.7 17.1,6.7L19,4.72C19,4.72 16.56,2 12.1,2C6.42,2 2.03,6.8 2.03,12C2.03,17.05 6.16,22 12.25,22C17.6,22 21.5,18.33 21.5,12.91C21.5,11.76 21.35,11.1 21.35,11.1V11.1Z"})})},Be=Object(u.a)({button:{backgroundColor:"#ffb4b4",padding:"0.5rem 1.5rem",color:"black",margin:"1rem 0rem 0rem"},googleAuthButton:{color:"white",backgroundColor:"#662C91",marginTop:"1rem","&:hover":{backgroundColor:"#FFD919",color:"black"}}}),Fe=function(e){var t,n=Object(a.useState)(!1),c=Object(d.a)(n,2),r=c[0],o=c[1],u=Object(a.useState)(""),b=Object(d.a)(u,2),h=b[0],m=b[1],O=Object(a.useState)({username:"",email:"",pass:""}),x=Object(d.a)(O,2),v=x[0],y=x[1],N=Object(a.useState)(""),S=Object(d.a)(N,2),w=S[0],C=S[1],I=function(e){"email"==e.target.name?y(Object(l.a)(Object(l.a)({},v),{},{email:e.target.value})):"username"==e.target.name?y(Object(l.a)(Object(l.a)({},v),{},{username:e.target.value})):y(Object(l.a)(Object(l.a)({},v),{},{pass:e.target.value}))},P=Object(D.f)(),k=function(){var e=Object(i.a)(s.a.mark((function e(t){var n,a,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),n=null===t||void 0===t?void 0:t.profileObj,a=null===t||void 0===t?void 0:t.tokenId,console.log(n),console.log(a),console.log(t),e.prev=6,e.next=9,p()({method:"POST",url:"".concat("http://localhost:8000/","auth/googleSignUp"),headers:{"content-type":"application/json",accept:"application/json"},data:JSON.stringify({data:t})});case 9:c=e.sent,console.log("SENT USER INFO"),console.log(c),"error"!==c.data?(localStorage.setItem("JWT",c.data.token),localStorage.setItem("username",c.data.username.split(" ")[0]),E({type:"LOGIN_USER"}),P.push("../shop")):C("GOOGLE AUTHENTICATION FAILED!\n(you might have already registered try login in!)"),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(6),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[6,15]])})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p()({method:"POST",url:"".concat("http://localhost:8000/","auth/signUp"),headers:{"content-type":"application/json",accept:"application/json"},data:JSON.stringify({data:v})});case 3:t=e.sent,console.log("Result: ",t),"error"===t.data.status?(console.log("ERROR ENCOUNTERED!"),m(""),"Enter a valid Email!"===t.data.error?(console.log("enter a valid email!"),C("Enter a valid Email!")):"UserName must be atleast 4 character's long!"===t.data.error?C("UserName must be atleast 4 character's long!"):"Password must be atleast 4 character's long!"===t.data.error&&C("Password must be atleast 4 character's long!")):"res Username is already taken"==t.data?(C("Username Taken!"),m("")):"res email is already taken"==t.data?(C("Email Taken!"),m("")):(C(""),m("Please Verify Your EMail using the invitation link sent to your mail!")),console.log("SENT USER INFO"),console.log(w),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){}),[w]);var E=Object(f.b)(),A=Be(e);return Object(R.jsx)("div",{className:"loginPageMainDiv",style:{backgroundImage:"url(".concat(Ae,")"),backgroundRepeat:"no-repeat",backgroundSize:"100% 100%",backgroundAttachment:"fixed",minHeight:"87vh",minWidth:"100vw",paddingTop:"2rem"},children:Object(R.jsxs)("div",{className:"loginFromDivMain",children:[Object(R.jsx)("h1",{style:(t={display:"inline-block",marginBottom:"3rem"},Object(Ne.a)(t,"marginBottom","0.5rem"),Object(Ne.a)(t,"color","white"),t),children:"SignUp"}),Object(R.jsx)("p",{style:{marginBotton:"1.5rem !important",color:"white"},children:"Hello User! SignUp to join Us!"}),Object(R.jsxs)("form",{className:"loginForm",children:[Object(R.jsxs)("div",{className:"form-floating mb-3",children:[Object(R.jsx)("input",{autoFocus:!0,name:"username",type:"text",className:"form-control",id:"floatingInput",placeholder:"name@example.com",onChange:function(e){I(e)}}),Object(R.jsx)("label",{for:"floatingInput",children:"UserName"})]}),Object(R.jsxs)("div",{className:"form-floating mb-3",children:[Object(R.jsx)("input",{name:"email",type:"email",className:"form-control",id:"floatingInput",placeholder:"name@example.com",onChange:function(e){I(e)}}),Object(R.jsx)("label",{for:"floatingInput",children:"Email address"})]}),Object(R.jsxs)("div",{className:"form-floating",children:[Object(R.jsx)("input",{name:"pass",type:r?"text":"password",className:"form-control",id:"floatingPassword",placeholder:"Password",onChange:function(e){I(e)}}),Object(R.jsx)("div",{style:{display:"inline-block",marginLeft:"auto",position:"absolute",right:"10px",top:"15px",cursor:"pointer"},onClick:function(){o(!r)},children:r?Object(R.jsx)(Ce.a,{}):Object(R.jsx)(Pe.a,{})}),Object(R.jsx)("label",{for:"floatingPassword",children:"Password"})]}),Object(R.jsx)(ke.GoogleLogin,{clientId:"932722578967-3qbrmborj9dd6nevja1a2fqnksbjhedf.apps.googleusercontent.com",render:function(e){return Object(R.jsx)(j.a,{className:A.googleAuthButton,fullWidth:!0,onClick:e.onClick,disabled:e.disabled,startIcon:Object(R.jsx)(De,{}),variant:"container",children:"Google SignIn"})},onSuccess:k,onFailure:function(){console.log("Error Connecting to Google")},cookiePolicy:"single_host_origin"}),Object(R.jsx)("ul",{style:{justifyContent:"center",marginTop:"1.4rem",color:"white"},children:Object(R.jsx)("li",{style:{textAlign:"start"},children:"Min length of UserName - 4"})}),""===w?null:Object(R.jsx)("p",{style:Object(Ne.a)({color:"white",fontWeight:"700",marginTop:"1rem",padding:"1rem",background:"rgb(236,54,27)"},"background","linear-gradient(0deg, rgba(236,54,27,1) 0%, rgba(230,59,13,1) 30%, rgba(244,2,2,1) 100%)"),children:w}),""===h?null:Object(R.jsx)("p",{style:{backgroundColor:"white",color:"black",padding:"1rem"},children:h}),Object(R.jsx)(j.a,{variant:"contained",className:A.button,onClick:Object(i.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:case"end":return e.stop()}}),e)}))),children:"SignUp"}),Object(R.jsx)("li",{className:"nav-item",style:{listStyleType:"none",color:"blue"},children:Object(R.jsx)(g.c,{exact:!0,"aria-current":"page",to:"/login",style:{color:"blue !important"},children:"Already a Member?"})})]})]})})},qe=n(227),Ue=n(300),Le=n(292),We=n(294),Je=Object(u.a)((function(e){var t;return{appBar:{position:"relative"},toolbar:e.mixins.toolbar,layout:Object(Ne.a)({marginTop:"5%",width:"auto",marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(2)),{width:600,marginLeft:"auto",marginRight:"auto"}),paper:(t={marginTop:e.spacing(3),marginBottom:e.spacing(3),padding:e.spacing(2)},Object(Ne.a)(t,e.breakpoints.down("xs"),{width:"100%",marginTop:60}),Object(Ne.a)(t,e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(6),marginBottom:e.spacing(6),padding:e.spacing(3)}),t),stepper:{padding:e.spacing(3,0,5)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)},divider:{margin:"20px 0"},spinner:{display:"flex",justifyContent:"center",alignItems:"center"}}})),_e=n(287),Ge=n(63),He=n(293),Me=function(e){var t=Object(Ge.d)().control;return Object(R.jsx)(_e.a,{item:!0,xs:12,sm:6,children:Object(R.jsx)(Ge.a,{render:function(t){var n=t.field;return Object(R.jsx)(He.a,Object(l.a)(Object(l.a)({},n),{},{label:e.label,required:e.required}))},name:e.name,control:t,label:"{props.label}",fullWidth:!0})})},ze=function(e){var t=e.completeAddress,n=Object(Ge.c)();return Object(R.jsxs)("div",{children:[Object(R.jsx)(M.a,{variant:"h4",gutterBottom:!0,children:"Shipping Address"}),Object(R.jsx)(Ge.b,Object(l.a)(Object(l.a)({},n),{},{children:Object(R.jsxs)("form",{onSubmit:n.handleSubmit((function(e){t(e)})),children:[Object(R.jsxs)(_e.a,{container:!0,spacing:3,children:[Object(R.jsx)(Me,{name:"FirstName",label:"First Name",required:!0}),Object(R.jsx)(Me,{name:"LastName",label:"Last Name",required:!0}),Object(R.jsx)(Me,{name:"Address",label:"Address",required:!0}),Object(R.jsx)(Me,{name:"PhoneNumber",label:"Phone Number",required:!0}),Object(R.jsx)(Me,{name:"City",label:"City",required:!0}),Object(R.jsx)(Me,{name:"ZIP",label:"ZIP",required:!0})]}),Object(R.jsx)("br",{}),Object(R.jsxs)("div",{style:{display:"flex",justifyContent:"space-evenly"},children:[Object(R.jsx)(j.a,{component:g.b,to:"/cart",variant:"outlined",children:"Back to Cart"}),Object(R.jsx)(j.a,{type:"Submit",variant:"contained",color:"primary",children:"Proceed to Payment"})]})]})}))]})},Ve=n(288),Ze=n(289),Ye=n(290),Ke=function(e){var t=e.items,n=e.settotalPrice,a=0;return Object(R.jsxs)("div",{children:[Object(R.jsx)(M.a,{variant:"h6",gutturBottom:!0,children:"Order Summary"}),Object(R.jsx)(Ve.a,{disablePadding:!0,children:null!==t?0===t.length?Object(R.jsx)("h1",{children:"No products"}):Object(R.jsxs)(R.Fragment,{children:[console.log("items: ",t),t.map((function(e){return a+=e.productId.price*e.quantity,Object(R.jsxs)(Ze.a,{style:{padding:"10px 0"},children:[Object(R.jsx)(Ye.a,{primary:e.productId.title,secondary:"Quantity: ".concat(e.quantity)}),Object(R.jsxs)(M.a,{variant:"body2",children:["\u20b9",e.productId.price*e.quantity]})]},e._id)})),n(a),Object(R.jsxs)(Ze.a,{style:{padding:"10px 0"},children:[Object(R.jsx)(Ye.a,{primary:"Total"}),Object(R.jsxs)(M.a,{type:"subtitle1",style:{fontWeight:700},children:["\u20b9",a]})]})]}):null})]})},Xe=n(291);function Qe(e){return new Promise((function(t){var n=document.createElement("script");n.src=e,n.onload=function(){t(!0)},n.onerror=function(){t(!1)},document.body.appendChild(n)}))}var $e=function(e){var t=Object(a.useState)(),n=Object(d.a)(t,2),c=n[0],r=n[1],o=Object(a.useState)(0),l=Object(d.a)(o,2),u=l[0],b=l[1],g=Object(D.f)(),m=Object(a.useState)([]),O=Object(d.a)(m,2),x=O[0],v=O[1];var y=function(){var e=Object(i.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p()({method:"POST",url:"".concat("http://localhost:8000/","auth"),headers:{"content-type":"application/json",accept:"application/json"},data:JSON.stringify({token:t})});case 3:return n=e.sent,console.log(n.data._id),r(n.data._id),e.abrupt("return",n.data._id);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(i.a)(s.a.mark((function e(){var t,n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,null!==(t=localStorage.getItem("JWT"))){e.next=6;break}v(null),e.next=17;break;case 6:return console.log("GETTING cart PRODUCTS!"),e.next=9,y(t);case 9:return n=e.sent,console.log("id: ",c),e.next=13,p.a.get("".concat("http://localhost:8000/","cart/").concat(n));case 13:a=e.sent,console.log("Result.data: ",a.data),v(a.data),console.log("cartProducts: ",x);case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),console.log(e.t0);case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(){return e.apply(this,arguments)}}(),S=Object(f.c)((function(e){return e.loggedIn.userName})),w=function(){var t=Object(i.a)(s.a.mark((function t(){var n,a,c,r,o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==(n=localStorage.getItem("JWT"))){t.next=3;break}return t.abrupt("return",console.log("Please Login"));case 3:return t.next=5,Qe("https://checkout.razorpay.com/v1/checkout.js");case 5:if(t.sent){t.next=9;break}return alert("ERROR OCCURED WHILE CONNECTING TO PAYMENT GATEWAY!"),t.abrupt("return");case 9:return t.next=11,y(n);case 11:return a=t.sent,t.next=14,p()({method:"POST",url:"".concat("http://localhost:8000/","order/razorpay"),headers:{"content-type":"application/json",accept:"application/json"},data:JSON.stringify({id:a,totalPrice:u})});case 14:c=t.sent,console.log("displayRazorPay: ",c),r={key:"".concat("rzp_test_lYvwV7s3QyvsZv"),amount:c.data.amount,currency:c.data.currency,name:"EMarting",description:"(This is In test mode, money won't we deducted in real!)",image:{shopIcon:h},order_id:c.data.id,handler:function(t){console.log(t),e.paymentSuccess(e.productId)},prefill:{name:S,email:c.data.email},notes:{address:"Razorpay Corporate Office"},theme:{color:"#3399cc"}},(o=new window.Razorpay(r)).on("payment.failed",(function(t){void 0===e.productId?(o.close(),alert("Payment failed redirecting to shop!"),C(),g.push("../shop")):(o.close(),C(),alert("Payment failed redirecting to shop!"),g.push("../../shop"))})),o.open();case 20:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),C=function(){var t=Object(i.a)(s.a.mark((function t(){var n,a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n=localStorage.getItem("JWT"),console.log("PAYMENT FAILED!"),a=p()({method:"POST",url:"".concat("http://localhost:8000/","cart/orderFailed"),headers:{"content-type":"application/json",accept:"application/json"},data:JSON.stringify({productId:e.productId,token:n})}),console.log(a)}catch(c){console.log(c)}case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),I=function(){var e=Object(i.a)(s.a.mark((function e(t){var n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,null!==localStorage.getItem("JWT")){e.next=6;break}v(null),e.next=13;break;case 6:return e.next=8,p.a.get("".concat("http://localhost:8000/","shop/detailes/").concat(t));case 8:n=e.sent,console.log("Result.data: ",n.data),a=[{productId:n.data,quantity:1}],v(a),console.log("cartProducts: ",x);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),P=function(){var t=Object(i.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.beforePayment(e.productId),w();case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),k=function(){var t=Object(i.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("props.productId: ",e.productId),void 0===e.productId?N():I(e.productId);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){k()}),[]),Object(R.jsxs)("div",{children:[Object(R.jsx)(Ke,{items:x,settotalPrice:b}),Object(R.jsx)(Xe.a,{}),Object(R.jsx)(j.a,{variant:"contained",color:"primary",onClick:P,children:"Proceed to Pay"})]})},et=(n(221),n.p,n(93)),tt=n.n(et),nt=(n(224),function(){return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)("div",{}),Object(R.jsx)(tt.a,{style:{fontSize:100,color:"#33B97C"}}),Object(R.jsx)("h2",{style:{color:"#33B97C"},children:"Payment Successful"}),Object(R.jsx)(g.c,{to:"../orders",children:"Check your Orders!"})]})}),at=["Shipping Address","Payment Details"],ct=function(e){var t=Object(a.useState)(window.location.href.split("/")[4]),n=Object(d.a)(t,2),c=n[0],r=(n[1],Object(a.useState)(0)),o=Object(d.a)(r,2),l=o[0],u=o[1],j=function(){u((function(e){return e+1}))},b=Object(a.useState)(),h=Object(d.a)(b,2),g=h[0],m=h[1],O=function(){var e=Object(i.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(t);case 2:n=e.sent,console.log(n),console.log("Checkout address: ",t,g),j();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(i.a)(s.a.mark((function e(t){var n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=localStorage.getItem("JWT"),console.log(t),e.next=5,p()({method:"POST",url:"".concat("http://localhost:8000/","order/beforePayment"),headers:{"content-type":"application/json",accept:"application/json"},data:JSON.stringify({token:n,productId:t})});case 5:a=e.sent,console.log(a.data),"ERROR"===a.data.status&&alert(a.data.msg),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(i.a)(s.a.mark((function e(t){var n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Payment Successfull!"),n=localStorage.getItem("JWT"),e.next=4,p()({method:"POST",url:"".concat("http://localhost:8000/","paymentSuccessFull"),headers:{"content-type":"application/json",accept:"application/json"},data:JSON.stringify({token:n,location:g,productId:t})});case 4:a=e.sent,console.log(a),j();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=Je(),y=function(){return 0===l?Object(R.jsx)(ze,{completeAddress:O}):""!==c?Object(R.jsx)($e,{paymentSuccess:f,beforePayment:x,productId:c}):Object(R.jsx)($e,{paymentSuccess:f,beforePayment:x,productId:null})};return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)("div",{className:v.toolbar}),Object(R.jsx)("main",{className:v.layout,children:Object(R.jsxs)(qe.a,{className:v.paper,children:[Object(R.jsx)(M.a,{variant:"h4",align:"center",children:"Checkout"}),Object(R.jsx)(Ue.a,{activeStep:l,className:v.stepper,children:at.map((function(e){return Object(R.jsx)(Le.a,{children:Object(R.jsx)(We.a,{children:e})},e)}))}),l===at.length?Object(R.jsx)(nt,{}):Object(R.jsx)(y,{})]})})]})},rt=(n(225),n(136)),ot=function(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!0),o=Object(d.a)(r,2),l=o[0],u=o[1],j=function(){var e=Object(i.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("JWT"),e.next=3,p()({method:"GET",url:"".concat("http://localhost:8000/","getOrders"),params:{token:t}});case 3:n=e.sent,console.log(n.data),c(n.data),u(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){j()}),[]),Object(R.jsxs)("div",{className:"OrdersMainDiv",children:[Object(R.jsx)("h1",{children:"You Orders!"}),l?Object(R.jsx)(Y.a,{}):Object(R.jsx)("div",{className:"OrdersList",children:0===n.length&&void 0!==n?Object(R.jsxs)("div",{style:{verticalAlign:"center",display:"flex",justifyContent:"center",alignContent:"center"},children:[Object(R.jsx)("h1",{children:"No Orders Found"}),Object(R.jsx)(rt.a,{style:{fontSize:"5rem"}})]}):n.map((function(e,t){return Object(R.jsxs)("div",{className:"SingleOrderList",children:[Object(R.jsxs)("h3",{children:["Order Id: ",e._id]}),Object(R.jsx)("h3",{children:"Products: "}),Object(R.jsx)("div",{className:"OrderProductList",children:e.products.map((function(e,t){return Object(R.jsx)("ol",{children:Object(R.jsx)("li",{children:Object(R.jsxs)("ul",{children:[Object(R.jsxs)("li",{children:["Product Id:"," ",e._id]}),Object(R.jsxs)("li",{children:["Quantity: ",e.quantity]})]})})})}))}),Object(R.jsxs)("div",{className:"OrderDeliveryLocation",children:[Object(R.jsx)("h3",{children:"Delivery Address:"}),Object(R.jsxs)("p",{children:[e.address," ",e.city," ",e.zipCode]})]})]},t)}))})]})};var st=function(){var e=Object(f.c)((function(e){return e.loggedIn.loggedIn}));return Object(R.jsxs)("div",{className:"App",children:[Object(R.jsx)(A,{}),Object(R.jsxs)(D.c,{children:[Object(R.jsx)(D.a,{exact:!0,path:"/home",component:ee}),Object(R.jsx)(D.a,{exact:!0,path:"/admin/addProduct",component:U}),Object(R.jsx)(D.a,{exact:!0,path:"/admin/editProduct/:id",component:be}),Object(R.jsx)(D.a,{exact:!0,path:"/shop",component:X}),Object(R.jsx)(D.a,{exact:!0,path:"/shop/detailes/:id",component:ue}),Object(R.jsx)(D.a,{exact:!0,path:"/cart",component:ce}),Object(R.jsx)(D.a,{exact:!0,path:"/admin/shop",component:se}),Object(R.jsx)(D.a,{exact:!0,path:"/order/:msg?",component:ct}),Object(R.jsx)(D.a,{exact:!0,path:"/",component:ee}),Object(R.jsx)(D.a,{path:"/EMarting",component:ee}),e?Object(R.jsx)(R.Fragment,{children:Object(R.jsx)(D.a,{exact:!0,path:"/orders",component:ot})}):Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(D.a,{exact:!0,path:"/login",component:Ee}),Object(R.jsx)(D.a,{path:"/signUp/:msg?",component:Fe})]}),Object(R.jsx)(D.a,{component:L})]})]})},it=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,301)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),r(e),o(e)}))};r.a.render(Object(R.jsx)(f.a,{store:ye,children:Object(R.jsx)(g.a,{children:Object(R.jsx)(st,{})})}),document.getElementById("root")),it()},79:function(e){e.exports=JSON.parse('[{"name":"Action and Adventure"},{"name":"Classics"},{"name":"Comic Book or Graphic Novel"},{"name":"Detective and Mystery"},{"name":"Fantasy"},{"name":"Historical Fiction"},{"name":"Horror"},{"name":"Literary Fiction"},{"name":"Romance"},{"name":"Science Fiction"},{"name":"Short Stories"},{"name":"Suspense and Thrillers"},{"name":"Women\'s Fiction"},{"name":"Biographies and Autobiographies"},{"name":"Cookbooks"},{"name":"Essays"},{"name":"History"},{"name":"Memoir"},{"name":"Poetry"},{"name":"Self-Help"},{"name":"True Crime"}]')}},[[226,1,2]]]);
//# sourceMappingURL=main.751fb265.chunk.js.map